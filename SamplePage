<apex:page applyHtmlTag="false"
           applyBodyTag="false"
           showHeader="false"
           sidebar="false"
           standardStylesheets="false"
           standardController="Account"
           docType="html-5.0"
           extensions="RelationshipTeamController"> <apex:form >
    <html>
        <head>
            <style type="text/css">
                body {
                    font-family: Arial, sans-serif;
                }

                .rt-main-layout {
                    width: 100%;
                }
                .rt-left-column {
                    width: 50%;
                    vertical-align: top;
                    padding-right: 15px;
                }
                .rt-right-column {
                    width: 50%;
                    vertical-align: top;
                }

                .rt-data-table {
                    border-collapse: collapse;
                }

                .rt-label-cell {
                    background-color: #001f4d; 
                    color: white;
                    padding: 6px 8px;
                    border: 1px solid #D3D3D3; 
                    white-space: nowrap;
                    font-size: 12px;
                    width: 140px; 
                }

                .rt-value-cell {
                    background-color: white;
                    padding: 6px 8px;
                    border: 1px solid #D3D3D3; 
                    width: 140px; 
                    font-size: 12px;
                }
                
                .rt-ib-list-table {
                    margin-top: 20px;
                }

            </style>
        </head>
        <body>

            <table class="rt-main-layout">
                <tr>
                    <td class="rt-left-column">
		     <div class="section-header">
                            <h2>Relationship Team</h2>
                     </div><br/><br/>

                        <table class="rt-data-table">
                            <tr>
                                <td class="rt-label-cell">RM</td>
                                <td class="rt-value-cell">Todd Hardy</td>
                            </tr>
                            <tr>
                                <td class="rt-label-cell">CSO</td>
                                <td class="rt-value-cell">Lorrie Martinez</td>
                            </tr>
                            <tr>
                                <td class="rt-label-cell">TSO</td>
                                <td class="rt-value-cell">Beth Martin</td>
                            </tr>
                            <tr>
                                <td class="rt-label-cell">TSA</td>
                                <td class="rt-value-cell">Annalin Martin</td>
                            </tr>
                            <tr>
                                <td class="rt-label-cell">PB</td>
                                <td class="rt-value-cell">&nbsp;</td>
                            </tr>
                        </table>

                        <table class="rt-data-table rt-ib-list-table">
                            <tr>
                                <td class="rt-label-cell">IB</td>
                                <td class="rt-value-cell">&nbsp;</td>
                            </tr>
                            <tr>
                                <td class="rt-label-cell">IB - ABL</td>
                                <td class="rt-value-cell">&nbsp;</td>
                            </tr>
                            <tr>
                                <td class="rt-label-cell">IB - ABL Credit</td>
                                <td class="rt-value-cell">&nbsp;</td>
                            </tr>
                            <tr>
                                <td class="rt-label-cell">IB - Capital Solutions</td>
                                <td class="rt-value-cell">&nbsp;</td>
                            </tr>
                            <tr>
                                <td class="rt-label-cell">IB - Coverage</td>
                                <td class="rt-value-cell">&nbsp;</td>
                            </tr>
                            <tr>
                                <td class="rt-label-cell">IB - EFL</td>
                                <td class="rt-value-cell">&nbsp;</td>
                            </tr>
                            <tr>
                                <td class="rt-label-cell">IB - ETF</td>
                                <td class="rt-value-cell">&nbsp;</td>
                            </tr>
                            <tr>
                                <td class="rt-label-cell">IB - Leveraged Finance</td>
                                <td class="rt-value-cell">&nbsp;</td>
                            </tr>
                            <tr>
                                <td class="rt-label-cell">IB - M&amp;A</td>
                                <td class="rt-value-cell">&nbsp;</td>
                            </tr>
                            <tr>
                                <td class="rt-label-cell">IB - Operations</td>
                                <td class="rt-value-cell">&nbsp;</td>
                            </tr>
                            <tr>
                                <td class="rt-label-cell">IB - Public Finance</td>
                                <td class="rt-value-cell">&nbsp;</td>
                            </tr>
                            <tr>
                                <td class="rt-label-cell">IB - Sales &amp; Trading</td>
                                <td class="rt-value-cell">&nbsp;</td>
                            </tr>
                            <tr>
                                <td class="rt-label-cell">IB - Sponsor Coverage</td>
                                <td class="rt-value-cell">&nbsp;</td>
                            </tr>
                            <tr>
                                <td class="rt-label-cell">IB - Syndications</td>
                                <td class="rt-value-cell">&nbsp;</td>
                            </tr>
                        </table>

                    </td>
                    <td class="rt-right-column">
                    </td>
                </tr>
            </table>
<!-- Updated Button Section -->
            <div class="pdfButton" style="float: right">
                <!-- When form is read-only: Just open PDF without saving -->
                <apex:outputPanel rendered="{!isFormReadOnly}">
                    <button onclick="openPDFDirectly()" type="button">Open PDF</button>
                </apex:outputPanel>
                
                <script>
                // Function called directly when form is read-only
                function openPDFDirectly() {
                    var recId = '{!currentRecordId}';
                    var apId = '{!apExist.Id}'; // Account Planning record ID
                    var pageName = 'RelationshipTeamPDF';
                    
                    console.log('Opening PDF directly for record: ' + recId);
                    
                    // Build URL with multiple parameters
                    var url = '/apex/' + pageName + '?Id=' + recId + '&apId=' + apId + '&mode=readonly';
                    window.open(url, '_blank');
                }
                </script>
            </div>
            
            <!-- Footer -->
            <div class="footer">
                <!-- <img class="logo-bottom" src="{!URLFOR($Resource.TexasCapitalBottomLogo)}" /> -->
            </div>

        </body>
    </html>
</apex:page>
